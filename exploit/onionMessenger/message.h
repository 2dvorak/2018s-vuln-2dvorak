#ifndef MESSAGE_H
#define MESSAGE_H

#include "common.h"

using namespace std;
using json = nlohmann::json;

namespace newmsg{
    class Message{
    public:
        Message();
        // for key
        Message(string id, string loginStatus, string recvip, string githubID, string pubkey);
        virtual ~Message();
        // Socket Client
        void EncMessage(string githubID);
        void SendMessage();
        void RecvMessage();
        void SendKey();
        void RecvKey();

        // json setting
        void setFpr(string);
        void setBullian(string);
        void setID(string);
        void setPubkey(string);
        void setGithubID(string);
        void setSendIP(string);
        void setRecvIP(string);
        string getSendIP();
        string getRecvIP();
        void SetMessage(string, string, string);
        void SetBridge(string toip, string contents);
        void setJason(json);
        void CheckMessage();
    private:
        // We have to make rules(Protocol)
        // +a // string attachment;
        json jason;
    };
}

#endif // MESSAGE_H
